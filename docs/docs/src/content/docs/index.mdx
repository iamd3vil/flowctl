---
title: Getting Started
---

Flowctl uses PostgreSQL as its database. This is the only external dependency. Everything else is included in the binary.

import { Steps } from "@astrojs/starlight/components";
import { Aside } from "@astrojs/starlight/components";

## Quick Start

For a quick setup, you can use the provided [docker-compose.yml](https://raw.githubusercontent.com/cvhariharan/flowctl/refs/heads/master/docker-compose.yaml) file.
Alternatively, you can set up flowctl manually with the following steps.

<Steps>

1. **Download the binary**

   Download the latest release for your platform from [GitHub Releases](https://github.com/cvhariharan/flowctl/releases).

2. **Configure flowctl**

   ```bash
   flowctl --new-config
   ```

   This will generate a default `config.toml` file in the current directory. Customize it if required.
   Create the flows directory as specified in `flows_directory` in `config.toml`.

3. **DB migration**

   ```bash
   flowctl install
   ```

   This will perform DB migrations. It is safe to run this multiple times.

4. **Start flowctl**

   ```bash
   flowctl start
   ```

   This will start the server and the background workers.
   The application will be available at [http://localhost:7000](http://localhost:7000). This will use the `config.toml` in the current working directory by default. You can pass `--config` flag to use a different config.

5. **Login**

   Use the admin credentials you configured in `config.toml`.

</Steps>

## Configuration

The `config.toml` file controls all aspects of flowctl's behavior. Here's a comprehensive guide to the available settings:

### Application Settings

```toml
[app]
  admin_username = "flowctl_admin"
  admin_password = "your_secure_password"
  flows_directory = "flows"
  root_url = "http://localhost:7000"
  use_tls = false
  http_tls_cert = "server_cert.pem"
  http_tls_key = "server_key.pem"
  secure_cookie_key = "base64_encoded_key"
```

- **`admin_username`** / **`admin_password`**: Credentials for the admin user account. Change the default password for security.
- **`root_url`**: The base URL where flowctl is accessible. Update this if running behind a proxy or on a different port.
- **`flows_directory`**: Directory path where flow definitions are stored. Can be relative or absolute.
- **`use_tls`**: Enable HTTPS (default: `false`). Set to `true` for production deployments.
- **`http_tls_cert`** / **`http_tls_key`**: Paths to TLS certificate and key files when `use_tls` is enabled.
- **`secure_cookie_key`**: Base64-encoded key for encrypting session cookies. This is used by the [simplessions](https://github.com/zerodha/simplesessions) package to create a secure cookie. Valid key lengths are 16, 24, or 32 bytes to select AES-128, AES-192, or AES-256. Config generated by `--new-config` creates a random 16 byte key.

### Database Settings

```toml
[db]
  host = "127.0.0.1"
  port = 5432
  dbname = "flowctl"
  user = "flowctl"
  password = "flowctl"
  sslmode = ""
  sslcert = ""
  sslkey = ""
  sslrootcert = ""
```

- **`host`**: PostgreSQL server hostname or IP address
- **`port`**: PostgreSQL server port (default: `5432`)
- **`dbname`**: Name of the database to use
- **`user`** / **`password`**: Database authentication credentials
- **`sslmode`**: (optional) Postgres SSL mode (`disable`, `allow`, `prefer`, `require`, `verify-ca`, `verify-full`). Default - `disable`
- **`sslcert`/`sslkey`/`sslrootcert`**: Path to ssl cert, key and root cert respectively

### Keystore Configuration

```toml
[keystore]
  keeper_url = "base64key://..."
```

The keystore manages encryption keys for sensitive data. The `keeper_url` uses a URI scheme to specify the storage backend.
This uses the [gocloud](https://gocloud.dev/howto/secrets/) package which supports multiple KMS backends. The default config uses a local encryption key.

<Aside type="caution">
  Ensure that this key is backed-up and saved. Losing this key will make the
  secrets and credentials inaccessible.
</Aside>

### Scheduler Settings

```toml
[scheduler]
  workers = 20
  cron_sync_interval = "5m0s"
```

- **`workers`**: Number of concurrent workers for executing flows (default: number of CPU threads)
- **`cron_sync_interval`**: How often to sync scheduled flows from the database (default: `5m0s`)

### Logger Configuration

```toml
[logger]
  log_directory = "/var/log/flowctl"
  max_size_bytes = 0
  retention_time = 0
  scan_interval = "1h"
```

- **`log_directory`**: Directory for log files when using file backend. This directory should exist.
- **`max_size_bytes`**: Maximum size per log file in bytes (0 = unlimited)
- **`retention_time`**: How long to keep log files in hours (0 = unlimited)
- **`scan_interval`**: Interval between scans for the log manager to delete / manage logs

### OIDC Authentication

```toml
[oidc]
  client_id = "your-client-id"
  client_secret = "your-client-secret"
  issuer = "https://your-oidc-provider.com/"
```

<Aside>
  Currently only the default admin user can use a username and password to log
  into flowctl. All other users are expected to use OIDC.
</Aside>

Configure OpenID Connect for single sign-on:

- **`client_id`**: OAuth2 client ID from your OIDC provider
- **`client_secret`**: OAuth2 client secret
- **`issuer`**: OIDC provider's issuer URL

### Metrics
```toml
enabled = true
path = "/metrics"
```
Export Prometheus metrics
- **`enabled`**: (default: `false`) Enable or disable metrics export
- **`path`**: (default: `/metrics`) URL path where metrics will be exposed

## Next Steps

- Learn how to create your [first flow](/docs/general/flows)
- Configure [executors and nodes](/docs/general/nodes-and-executors)
