{{ define "partials/pagination" }}
<!-- Pagination Component -->
<div x-show="!loading && pageCount > 1" class="flex justify-center mt-8">
    <nav class="flex items-center space-x-2">
        <button @click="$dispatch('pagination-change', { page: page - 1 })"
                :disabled="page === 1"
                :class="{ 'opacity-50 cursor-not-allowed': page === 1 }"
                class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
            Previous
        </button>

        <template x-for="p in Array.from({length: pageCount}, (_, i) => i + 1)" :key="p">
            <button @click="$dispatch('pagination-change', { page: p })"
                    :class="{ 'bg-blue-600 text-white': p === page, 'bg-white text-gray-700': p !== page }"
                    class="px-3 py-2 text-sm font-medium border border-gray-300 rounded-lg hover:bg-gray-50"
                    x-text="p">
            </button>
        </template>

        <button @click="$dispatch('pagination-change', { page: page + 1 })"
                :disabled="page === pageCount"
                :class="{ 'opacity-50 cursor-not-allowed': page === pageCount }"
                class="px-3 py-2 text-sm font-medium text-gray-500 bg-white border border-gray-300 rounded-lg hover:bg-gray-50">
            Next
        </button>
    </nav>
</div>
{{ end }}